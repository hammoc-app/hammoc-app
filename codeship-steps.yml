- name: Run checks
  type: parallel
  steps:
    - name: Compile warnings
      service: hammoc
      command: mix compile --warnings-as-errors
    - name: Code conventions
      service: hammoc
      command: mix credo
    - name: Code format
      service: hammoc
      command: mix format --check-formatted --dry-run
    - name: Static code analysis (dev)
      service: hammoc
      command: mix dialyzer --halt-exit-status
    - name: Static code analysis (test)
      service: hammoc
      command: "MIX_ENV=test mix dialyzer --halt-exit-status"
    - name: Test suite
      service: hammoc-test
      command: mix test
